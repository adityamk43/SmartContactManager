<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
	th:replace="normal/base::layout(~{::section})">
<head>
<meta charset="UTF-8" />
<title th:text="${title}">This is Contact Detail Dashboard Page</title>
</head>
<body>
	<section>
	
	
		<div th:if="${contact}" class="card me-3">
			<div class="card-body">
				<div class="container text-center">
					<img style="width: 200px; height: 200px;" class="my_profile_picture"th:src="@{'/img/' + ${contact.getImage()}}" alt="PFP" />
					<h2 class="mt-3"><span  th:text="${contact.name}"></span> (<span th:text="${contact.nickname}"></span>)</h2>
					<div class="table-responsive">
						<table class="mt-4 table table-striped table-bordered">
						  <tbody>
						    <!-- CID -->
						    <tr>
						      <th scope="col" class="bg-primary">CID</th>
						      <th scope="col">C<span th:text="${contact.cId}"></span></th>
						      
						    </tr>
						    
						    <!-- Email -->
						    <tr>
						      <th scope="col"  class="bg-primary">Email</th>
						      <td><span th:text="${contact.email}"></span></td>
						      
						    </tr>
						    
						    <!-- Phone Number -->
						    <tr>
						      <th scope="col"  class="bg-primary">Phone Number</th>
						      <td><span th:text="${contact.phone}"></span></td>
						      
						    </tr>
						    
						    <!-- Work -->
						    <tr>
						      <th scope="row"  class="bg-primary">Work</th>
						      <td><span th:text="${contact.work}"></span></td>
						      
						    </tr>

						  </tbody>
						</table>

					</div>
					
						<!-- Description -->
						<div class="container mt-4">
							<h3 class="bg-primary p-2 rounded">Description</h3>
							<div class="container bg-light rounded">
								<span th:utext="${contact.description}"></span>
							</div>
						</div>
						
						<!-- Update/Delete Buttons -->
						<div class="container text-center">
						
							<form 
								th:action="@{'/user/update-contact/' + ${contact.cId}}" 
								method="post">
								
								<div class="d-grid mt-4">
									<button type="submit" class="btn btn-block btn-success">Update</button>
								</div>
						
							</form>
							<div class="d-grid mt-3">
								<button th:onclick="|deleteContact(${contact.cId})|"  class="btn btn-danger">Delete</button>
							</div>
						</div>
						
				</div>
			</div>
		</div>
		
		
		<!-- For Unauthorised access sending some message -->
		<div  th:unless="${contact}" class="alert alert-danger me-3">
			<h3 class="text-center text-uppercase">You don't have permission to access this page!!</h3>
		</div>
		
		<div  th:unless="${contact}" class="container text-center">
			<img style="width: 60%; max-height: 500px !important;" class="img-fluid" th:src="@{/img/unauthorized.jpg}" alt="Unauthorised Access!!" />
		
		</div>
		
	</section>
</body>
</html>